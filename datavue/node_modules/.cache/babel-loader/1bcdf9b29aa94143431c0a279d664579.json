{"ast":null,"code":"import Vue from \"vue\";\nimport axios from \"axios\";\nimport VueAxios from \"vue-axios\";\nVue.use(VueAxios, axios);\nexport default {\n  name: \"NewFile\",\n\n  data() {\n    return {\n      valform: {},\n      arr: [],\n      id: '',\n      name: '',\n      departement: '',\n      isEdit: false,\n      row: '',\n      dialog: false,\n      add: true\n    };\n  },\n\n  mounted() {\n    Vue.axios.get('http://127.0.0.1:33797/read/').then(resp => this.arr = resp.data);\n  },\n\n  methods: {\n    postData() {\n      Vue.axios.post(\"http://127.0.0.1:33797/create/\", {\n        id: this.id,\n        name: this.name,\n        departement: this.departement\n      }).then(response => {\n        console.log(response.data);\n        this.id = '', this.name = \"\", this.departement = \"\";\n      });\n      this.dialog = false;\n    },\n\n    async deleteData(id) {\n      await Vue.axios.delete(`http://127.0.0.1:33797/delete/${id}`);\n      Vue.axios.get('http://127.0.0.1:33797/read/').then(resp => this.arr = resp.data);\n    },\n\n    editdata(details) {\n      this.add = false;\n      this.dialog = true;\n      this.valform = details; // this.isEdit=true\n\n      this.id = details.id;\n      this.name = details.name;\n      this.departement = details.departement; // this.id=this.arr[id].id\n      // this.name=this.arr[id].name\n      // this.departement=this.arr[id].departement\n      // this.row=id\n      // this.isEdit=true\n    },\n\n    update() {\n      let test = this.arr.findIndex(temp => temp.id == this.valform.id);\n      this.arr[test].id = this.id;\n      this.arr[test].name = this.name;\n      this.arr[test].departement = this.departement;\n      this.dialog = false;\n      this.editform = true;\n      Vue.axios.put('http://127.0.0.1:33797/update/', {\n        id: this.id,\n        name: this.name,\n        departement: this.departement\n      });\n      this.add = true;\n      this.revert();\n      this.$refs.forms.reset();\n    },\n\n    revert() {\n      this.name = '';\n      this.id = '';\n      this.departement = '';\n    },\n\n    cancel() {\n      this.add = true;\n      this.dialog = false;\n      this.revert();\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAwGA;AACA;AACA;AACAA;AAEA;EACAC,eADA;;EAEAC;IACA;MACAC,WADA;MAEAC,OAFA;MAGAC,MAHA;MAIAJ,QAJA;MAKAK,eALA;MAMAC,aANA;MAOAC,OAPA;MAQAC,aARA;MASAC;IATA;EAaA,CAhBA;;EAiBAC;IACAX;EACA,CAnBA;;EAoBAY,SACA;IACAC;MACAb,iDACA;QACAK,WADA;QAEAJ,eAFA;QAGAK;MAHA,CADA,EAKAQ,IALA,CAKAC;QACAC;QACA,cACA,cADA,EAEA,qBAFA;MAGA,CAVA;MAWA;IACA,CAdA;;IAgBA,qBACA;MAEA;MACAhB;IAIA,CAxBA;;IA2BAiB;MACA;MACA;MACA,uBAHA,CAIA;;MACA;MACA;MACA,uCAPA,CASA;MACA;MACA;MACA;MAEA;IAEA,CA3CA;;IA4CAC;MACA;MACA;MACA;MACA;MACA;MACA;MACAlB;QACAK,WADA;QAEAJ,eAFA;QAGAK;MAHA;MAQA;MACA;MACA;IAEA,CA/DA;;IAgEAa;MACA;MACA;MACA;IACA,CApEA;;IAqEAC;MACA;MACA;MACA;IACA;;EAzEA;AArBA","names":["Vue","name","data","valform","arr","id","departement","isEdit","row","dialog","add","mounted","methods","postData","then","response","console","editdata","update","revert","cancel"],"sourceRoot":"src/components","sources":["newFile.vue"],"sourcesContent":["<template>\n    <v-app>\n        <v-form\n        refs = \"forms\">\n            <v-dialog\n            width=\"500\"\n            v-model=\"dialog\">\n            \n            <template v-slot:activator=\"{ on, attrs }\">\n            <v-flex text-right align-right>\n            <v-btn\n            color=\"primary\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n         >\n          Add new\n          </v-btn>\n        </v-flex>    </template>\n            <v-card class=\"white\">\n        \n            <v-text-field\n            v-model=\"id\"\n            label=\"id\"\n            value=\"id\"\n            filled>\n            </v-text-field>\n            <v-text-field\n            v-model=\"name\"\n            label=\"name\"\n            value=\"name\"\n            filled>\n        </v-text-field>\n        <v-text-field\n            v-model=\"departement\"\n            label=\"departement\"\n            value=\"departement\"\n            filled>\n        </v-text-field>\n        <v-flex text-center align-center>\n            <v-btn        \n             color=\"primary\"\n            @click=\"cancel\"\n             >\n           cancel\n           </v-btn>\n            <v-btn v-if=\"add\"         \n             color=\"primary\"\n            @click=\"postData\"\n             >\n           submit\n           </v-btn>\n           <v-btn v-else        \n             color=\"primary\"\n            @click=\"update\"\n             >\n           update\n           </v-btn>\n\n          \n        </v-flex>\n        </v-card>\n    </v-dialog>\n        </v-form>\n    <v-simple-table>\n        <thead>\n            <tr>\n            <th>id</th>\n            <th>name</th>\n            <th>departement</th>\n        </tr>\n        </thead>\n        <tbody>\n            <tr v-for=\"(details,i) in arr\" :key=\"i\">\n               \n                <td>{{details.id}}</td>\n                <td>{{details.name}}</td>\n                <td>{{details.departement}}</td>\n                   \n       <v-btn             \n             color=\"primary\"\n            @click=\"deleteData(details.id)\"\n            >\n           Delete\n           </v-btn>\n           <v-btn             \n             color=\"primary\"\n            @click=\"editdata(details)\"\n            >\n           edit\n       \n           </v-btn>\n        \n        \n            \n       </tr>\n       \n       \n     \n    \n        </tbody>\n    </v-simple-table>\n</v-app>\n</template>\n<script>\n    import  Vue from \"vue\"\n    import axios from\"axios\"\n    import VueAxios from \"vue-axios\"\n    Vue.use(VueAxios,axios)\n\n    export default{\n        name:\"NewFile\",\n        data(){\n            return {\n                valform:{},\n                arr:[],\n                id:'',\n                name:'',\n                departement:'',\n                isEdit:false,\n                row:'',\n                dialog:false,\n                add:true\n            }\n\n\n        },\n        mounted(){\n            Vue.axios.get('http://127.0.0.1:33797/read/').then((resp)=>this.arr=resp.data)\n        }, \n        methods:\n        {\n            postData(){\n                Vue.axios.post(\"http://127.0.0.1:33797/create/\",\n                {\n                    id:this.id,\n                    name:this.name,\n                    departement:this.departement\n                }).then((response)=>{\n                    console.log(response.data);\n                    this.id='',\n                    this.name=\"\",\n                    this.departement=\"\"\n                });\n                this.dialog = false\n                },\n               \n                async deleteData(id) \n                {\n                    \n                    await Vue.axios.delete(`http://127.0.0.1:33797/delete/${id}`)\n                    Vue.axios.get('http://127.0.0.1:33797/read/').then((resp)=>this.arr=resp.data)\n                    \n\n                    \n                },\n                \n                \n                editdata(details) {\n                    this.add = false\n                    this.dialog = true\n                    this.valform = details\n                    // this.isEdit=true\n                    this.id = details.id\n                    this.name = details.name\n                    this.departement = details.departement\n                    \n                    // this.id=this.arr[id].id\n                    // this.name=this.arr[id].name\n                    // this.departement=this.arr[id].departement\n                    // this.row=id\n                    \n                    // this.isEdit=true\n                    \n                },\n                update(){\n                    let test = this.arr.findIndex(temp => temp.id == this.valform.id)\n                    this.arr[test].id = this.id\n                    this.arr[test].name = this.name\n                    this.arr[test].departement = this.departement\n                    this.dialog=false\n                    this.editform=true\n                    Vue.axios.put('http://127.0.0.1:33797/update/',{\n                        id:this.id,\n                        name:this.name,\n                        departement:this.departement\n                        \n\n\n                    })\n                    this.add=true\n                    this.revert()\n                    this.$refs.forms.reset()\n                    \n                },\n                revert(){\n                    this.name=''\n                    this.id=''\n                    this.departement=''\n                },\n                cancel(){\n                    this.add=true\n                    this.dialog=false\n                    this.revert()\n                }\n                \n        }\n    }\n \n</script>"]},"metadata":{},"sourceType":"module"}